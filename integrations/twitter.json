{
  "name": "twitter",
  "description": "Twitter API integration for posting tweets, reading user timelines, managing followers, and basic account operations",
  "code": "async function execute(input, credentials) {\n  const { action } = input;\n  const baseUrl = 'https://api.twitter.com/2';\n  \n  const headers = {\n    'Authorization': `Bearer ${credentials.BEARER_TOKEN}`,\n    'Content-Type': 'application/json'\n  };\n\n  try {\n    if (action === 'create' || action === 'publish') {\n      const response = await fetch(`${baseUrl}/tweets`, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ text: input.text })\n      });\n      \n      if (!response.ok) {\n        const error = await response.json();\n        return { success: false, error: error.detail || 'Failed to create tweet' };\n      }\n      \n      const result = await response.json();\n      return { success: true, data: result.data };\n    }\n    \n    if (action === 'read') {\n      const tweetId = input.tweet_id || input.id;\n      const response = await fetch(`${baseUrl}/tweets/${tweetId}?tweet.fields=author_id,created_at,public_metrics`, {\n        method: 'GET',\n        headers\n      });\n      \n      if (!response.ok) {\n        const error = await response.json();\n        return { success: false, error: error.detail || 'Failed to read tweet' };\n      }\n      \n      const result = await response.json();\n      return { success: true, data: result.data };\n    }\n    \n    if (action === 'list') {\n      const userId = input.user_id || 'me';\n      let endpoint = `${baseUrl}/users`;\n      \n      if (input.type === 'timeline' || !input.type) {\n        endpoint = `${baseUrl}/users/${userId}/tweets?max_results=${input.max_results || 10}&tweet.fields=created_at,public_metrics`;\n      } else if (input.type === 'followers') {\n        endpoint = `${baseUrl}/users/${userId}/followers?max_results=${input.max_results || 10}`;\n      } else if (input.type === 'following') {\n        endpoint = `${baseUrl}/users/${userId}/following?max_results=${input.max_results || 10}`;\n      }\n      \n      const response = await fetch(endpoint, {\n        method: 'GET',\n        headers\n      });\n      \n      if (!response.ok) {\n        const error = await response.json();\n        return { success: false, error: error.detail || 'Failed to list items' };\n      }\n      \n      const result = await response.json();\n      return { success: true, data: result.data || [] };\n    }\n    \n    if (action === 'update') {\n      return { success: false, error: 'Update operation not supported by Twitter API v2' };\n    }\n    \n    if (action === 'delete') {\n      const tweetId = input.tweet_id || input.id;\n      const response = await fetch(`${baseUrl}/tweets/${tweetId}`, {\n        method: 'DELETE',\n        headers\n      });\n      \n      if (!response.ok) {\n        const error = await response.json();\n        return { success: false, error: error.detail || 'Failed to delete tweet' };\n      }\n      \n      const result = await response.json();\n      return { success: true, data: result.data };\n    }\n    \n    return { success: false, error: `Unknown action: ${action}` };\n    \n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n}",
  "requirements": [
    {
      "name": "BEARER_TOKEN",
      "description": "Twitter API v2 Bearer Token for authentication",
      "type": "api_key",
      "required": true
    }
  ],
  "createdAt": "2026-02-17T10:49:34.023Z"
}